class GamesController < ApplicationController

  def new

  end

  def show
    secret_id = params[:secret_id]
    @game = Game.where("secret_id = '#{secret_id}'").first
    if @game.blank?
      redirect_to :controller => 'home', :action => 'index'
    else
      @game.players
    end
  end

  def create
    @game = Game.new
    @game.save

    render :json => {}
  end

  def update
    @game = Group.where("secret_id = '#{secret_id}'").first
    respond_to do |format|
      if @game.update
        format.html
        format.json { render json: @game }
      end
    end
  end

  def destroy
    @game.destroy if @game.update_at >= 24.hour.ago
  end
end
